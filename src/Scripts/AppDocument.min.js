!function () { "use strict"; function t() { return { restrict: "EA", replace: !0, transclude: !0, controller: "searchController", template: function () { return '\t<div id="#instantSearch" class="instantSearch">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t       \t\t<div class="bar">        \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t   \t\t\t<input type="text" ng-model="searchString" ng-change="changeSearch(searchString)"                                                                placeholder="Enter your search terms" ng-keyup="$event.keyCode == 13 && submitSearch(searchString)"/>                   \t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t   \t\t<ul>        \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t   \t\t    <li ng-hide="(Array.isArray(items) && items.length==0)">        \t\t\t\t\t\t\t\t\t\t\t\t\t \t       \t\t        Not found any data      \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \t\t    </li>        \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \t\t\t<li ng-repeat="i in items | searchFor:searchString">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t   \t\t\t\t<a href="{{i.url}}">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t   \t\t\t\t\t<img ng-src="{{i.image}}" />\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t   \t\t\t\t</a>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t   \t\t\t\t<p>{{i.title}} | File Type: {{i.fileType}}</p>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \t\t\t</li>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t   \t\t</ul>            \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t   \t</div>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t   ' }, link: function (t, e, r, n) { } } } function e(t, e) { t.searchString = "", t.items = []; var r = function (t) { for (var e = document.URL.split("?")[1].split("&"), r = 0; r < e.length; r += 1) { var n = e[r].split("="); if (n[0] == t) return n[1] } }; t.changeSearch = function (t) { }, t.submitSearch = function (r) { t.items = [], e.getData(t.webAbsoluteUrl, r).then(function (e) { var { query: r } = e.data.d; r && angular.forEach(r.PrimaryQueryResult.RelevantResults.Table.Rows.results, function (e) { var r = e.Cells.results; t.items.push({ lastModifiedTime: r[9].Value, fileType: r[31].Value, fileSize: r[5].Value, author: r[4].Value, siteName: r[29].Value, url: r[6].Value, image: r[17].Value, title: r[3].Value }) }) }, function (e) { t.items = [], console.log(e) }) }, t.webAbsoluteUrl = _spPageContextInfo.webAbsoluteUrl, t.appweburl = decodeURIComponent(r("SPAppWebUrl")), t.hostweburl = decodeURIComponent(r("SPHostUrl")) } function r(t, e) { var r = function () { }; return r.prototype.getData = function (r, n) { var a = String.format("{0}/_api/search/query?querytext='{1}'", r, n), i = e.defer(); return t({ url: a, method: "GET", headers: { Accept: "application/json;odata=verbose" } }).then(function (t) { i.resolve(t) }, function (t, e) { i.reject(t) }), i.promise }, new r } angular.module("appDocument", []).directive("searchContainer", t).controller("searchController", e).factory("searchService", r).filter("searchFor", function () { return function (t, e) { if (!e) return t; var r = []; return e = e.toLowerCase(), angular.forEach(t, function (t) { -1 !== t.title.toLowerCase().indexOf(e) && r.push(t) }), r } }), t.$inject = [], e.$inject = ["$scope", "searchService"], r.$inject = ["$http", "$q"], angular.element(function () { angular.bootstrap(appDocument, ["appDocument"]) }) }(), $(document).ready(function () { angular.element("#aspnetForm").submit(function (t) { return t.preventDefault(), !1 }) });